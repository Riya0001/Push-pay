<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      lang="en">
<head th:fragment="head-page-1">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Most Devices -->
    <link rel="icon" type="image/png" href="/images/favicon/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="/images/favicon/favicon-32x32.png" sizes="32x32">

    <!-- Android -->
    <link rel="icon" type="image/png" href="/images/favicon/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/images/favicon/android-chrome-512x512.png" sizes="512x512">

    <!-- IOS -->
    <link rel="apple-touch-icon" type="image/png" href="/images/favicon/apple-touch-icon.png">

    <!-- IE -->
    <link rel="shortcut icon" type="image/png" href="/images/favicon/favicon.ico">

    <!-- Web Manifest -->
    <link rel="manifest" type="image/png" href="/images/favicon/site.webmanifest">

    <title>tiptap | Bundles | Pricing</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mulish:ital,wght@0,200..1000;1,200..1000&display=swap"
          rel="stylesheet">
    <!--    <link href="../css/bootstrap.min.css" rel="stylesheet">-->
    <link rel="stylesheet" th:href="@{/css/bundles/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/bundles/css/custom/common.css}">
    <link rel="stylesheet" th:href="@{/css/bundles/css/custom/page1.css}">

    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-59JFNDD3');</script>
    <!-- End Google Tag Manager -->
    <!-- Microsoft Clarity -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "qtfyso1mfx");
    </script>
    <!-- Google Analytics (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FDJL41MRCT"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-FDJL41MRCT');
    </script>
</head>

<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-59JFNDD3"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<div hidden>
    <label for="srInput"></label>
    <input th:value="${salesRepId}" id="srInput">
</div>

<nav th:replace="~{fragments/bundles/navbar :: navbar}"></nav>

<div class="container" id="main-container">

    <div class="row g-5 mt-2">

        <div id="page-title-section" class="">

            <div class="row">
                <div class="col-sm-6" style="text-align: left">
                    <h1 style="color: black; font-weight: 600">Cart Checkout</h1>
                </div>

                <div class="col-sm-6" style="text-align: right">
                    <svg width="100%" height="24" viewBox="0 0 524 24" style="max-width: 524px;" fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_1118_6562)">
                            <path d="M12.6414 21.0002H1.98349C1.96792 20.9924 1.95307 20.9812 1.93645 20.9776C0.824373 20.7311 0.238805 19.9849 0.294675 18.8482C0.369639 17.3221 0.460868 15.797 0.54644 14.2711C0.647217 12.471 0.751178 10.6708 0.850186 8.87034C0.87706 8.38016 1.11433 8.14423 1.60478 8.14352C2.36326 8.14247 3.12173 8.14352 3.88021 8.14352C3.9428 8.14352 4.00503 8.14352 4.08177 8.14352C4.08177 8.04351 4.08141 7.96817 4.08177 7.89282C4.08636 7.24875 4.06444 6.60326 4.10086 5.96131C4.2073 4.0932 6.04817 2.69274 7.88973 3.05862C9.45656 3.36991 10.5149 4.63691 10.5318 6.22823C10.5379 6.79623 10.5329 7.36424 10.5329 7.93225C10.5329 7.99525 10.5329 8.05829 10.5329 8.14352C10.6139 8.14352 10.6765 8.14352 10.739 8.14352C11.5152 8.14352 12.2914 8.14105 13.0675 8.14457C13.4738 8.14632 13.7429 8.39213 13.7652 8.78407C13.8522 10.3036 13.9342 11.8237 14.0194 13.3432C14.0842 14.4947 14.1517 15.6459 14.2164 16.7974C14.2581 17.5397 14.3143 18.2816 14.332 19.0246C14.3504 19.7997 13.9961 20.3892 13.3168 20.7639C13.111 20.8773 12.8674 20.9234 12.6414 21.0002ZM9.23907 8.13473C9.23907 7.43432 9.24581 6.75644 9.23449 6.07857C9.23164 5.91236 9.18778 5.74122 9.13265 5.58275C8.825 4.69853 7.91765 4.16293 7.00182 4.3154C6.07501 4.46964 5.39294 5.24646 5.37527 6.1828C5.36536 6.71524 5.37279 7.24766 5.37242 7.78046C5.37242 7.89596 5.37242 8.01145 5.37242 8.13473H9.23907Z"
                                  fill="#9E007E"/>
                        </g>
                        <line x1="43.625" y1="11.5" x2="133.625" y2="11.5" stroke="#9E007E"/>
                        <path d="M177.491 3.92505H162.625V16.5387H177.491V3.92505Z" stroke="#9E007E"
                              stroke-width="2.25244" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M177.491 8.88037H179.969C180.745 8.88037 181.49 9.18888 182.039 9.73801C182.589 10.2872 182.897 11.0319 182.897 11.8085V16.5387H177.491V8.88037Z"
                              stroke="#9E007E" stroke-width="2.25244" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M167.764 20.075C168.364 20.075 168.85 19.589 168.85 18.9894C168.85 18.3898 168.364 17.9037 167.764 17.9037C167.165 17.9037 166.679 18.3898 166.679 18.9894C166.679 19.589 167.165 20.075 167.764 20.075Z"
                              stroke="#9E007E" stroke-width="2.25244" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M177.081 20.075C177.68 20.075 178.166 19.589 178.166 18.9894C178.166 18.3898 177.68 17.9037 177.081 17.9037C176.481 17.9037 175.995 18.3898 175.995 18.9894C175.995 19.589 176.481 20.075 177.081 20.075Z"
                              stroke="#9E007E" stroke-width="2.25244" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M163.075 8.97498H168.481" stroke="#9E007E" stroke-width="2.25244"
                              stroke-linecap="round" stroke-linejoin="round"/>
                        <line x1="211.896" y1="11.5" x2="301.896" y2="11.5" stroke="#979797"/>
                        <rect x="330.896" y="6" width="18" height="13" rx="2" stroke="#979797" stroke-width="2"/>
                        <path d="M334.896 15H334.906" stroke="#979797" stroke-width="2" stroke-linecap="round"/>
                        <path d="M331.896 11H348.896" stroke="#979797" stroke-width="2" stroke-linecap="round"/>
                        <line x1="380.896" y1="11.5" x2="470.896" y2="11.5" stroke="#979797"/>
                        <circle cx="511.896" cy="12" r="9" stroke="#979797" stroke-width="2"/>
                        <path d="M507.896 12L510.896 15L515.896 9" stroke="#979797" stroke-width="2"/>
                        <defs>
                            <clipPath id="clip0_1118_6562">
                                <rect width="14.625" height="18" fill="white" transform="translate(0 3)"/>
                            </clipPath>
                        </defs>
                    </svg>
                </div>
            </div>

        </div>

        <!-- Left Column -->
        <div class="col-sm-12">

            <div id="cart-checkout-container">

                <form id="cart-checkout-page-1-form">

                    <div class="card mb-4 accordion" id="accordion-organizational-details-section"
                         style="background-color: rgb(251, 251, 251);">
                        <div class="card-body">
                            <div class="accordion-item">
                                <h2 class="accordion-header text-center">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                            data-bs-target="#collapseDevice_0" aria-expanded="true"
                                            aria-controls="collapseDevice_0"
                                            style="color: black; font-weight: bold; background-color: rgb(251, 251, 251);">
                                        <svg width="16" height="17" viewBox="0 0 16 17" fill="none"
                                             xmlns="http://www.w3.org/2000/svg">
                                            <g clip-path="url(#clip0_431_1880)">
                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                      d="M4.8 0.5H14.4C15.28 0.5 16 1.22 16 2.1V11.7C16 12.58 15.28 13.3 14.4 13.3H4.8C3.92 13.3 3.2 12.58 3.2 11.7V2.1C3.2 1.22 3.92 0.5 4.8 0.5ZM0 4.5C0 4.06 0.36 3.7 0.8 3.7C1.24 3.7 1.6 4.06 1.6 4.5V14.1C1.6 14.54 1.96 14.9 2.4 14.9H12C12.44 14.9 12.8 15.26 12.8 15.7C12.8 16.14 12.44 16.5 12 16.5H1.6C0.72 16.5 0 15.78 0 14.9V4.5Z"
                                                      fill="#9E007E"></path>
                                            </g>
                                            <defs>
                                                <clipPath id="clip0_431_1880">
                                                    <rect width="16" height="16" fill="white"
                                                          transform="translate(0 0.5)"></rect>
                                                </clipPath>
                                            </defs>
                                        </svg>&nbsp;&nbsp;&nbsp;<span style="color: #422055; font-weight: 300;">1. Organizational Details</span>
                                    </button>
                                </h2>
                                <div id="collapseDevice_0" class="accordion-collapse collapse show"
                                     data-bs-parent="#accordion-organizational-details-section"
                                     style="background-color: rgb(251, 251, 251);">
                                    <div class="accordion-body">

                                        <div class="row mb-3">
                                            <div class="col-sm-6">
                                                <label for="organizationNameInput" class="form-label">Organization
                                                    name</label>
                                                <input type="text" class="form-control" name="organizationName"
                                                       id="organizationNameInput" maxlength="250" required>
                                            </div>

                                            <div class="col-sm-6">
                                                <label for="phoneInput" class="form-label">Phone</label>
                                                <input type="tel" class="form-control" name="phone" id="phoneInput"
                                                       oninput="formatPhoneNumber(this)" maxlength="14" required>
                                            </div>


                                        </div>

                                        <div class="row mb-3">
                                            <div class="col-sm-6">
                                                <label for="countryForSettingsInput" class="form-label">Country</label>
                                                <select class="form-select" aria-label="Default select example"
                                                        aria-describedby="countryForSettingsInputHelp"
                                                        name="countryForSettings" id="countryForSettingsInput" required>
                                                    <option hidden
                                                            th:selected="${userCountry == null}">
                                                        Select your country
                                                    </option>
                                                    <option value="Canada"
                                                            th:selected="${userCountry == 'Canada'}">
                                                        Canada
                                                    </option>
                                                    <option value="United States"
                                                            th:selected="${userCountry == 'United States'}">
                                                        United States
                                                    </option>
                                                </select>
                                                <div id="countryForSettingsInputHelp" class="form-text">
                                                    For currency and onboarding setup
                                                </div>
                                            </div>

                                            <div class="col-sm-6">
                                                <label for="emailInput" class="form-label">Email address</label>
                                                <input type="email" class="form-control" name="email" id="emailInput"
                                                       maxlength="250"
                                                       required>
                                            </div>
                                        </div>

                                        <div class="row mb-3">
                                            <div class="col-sm-6">
                                                <label for="campaignStartDateInput" class="form-label">Program Start
                                                    Date</label>
                                                <input type="date" class="form-control" name="campaignStartDate"
                                                       id="campaignStartDateInput"
                                                       required>
                                                <div id="campaign-start-date-helper-default" class="form-text"
                                                     style="display: block">
                                                    Note: Please select a program start date that is 4 weeks from now to
                                                    ensure enough time for setup, onboarding, and shipping of your order
                                                </div>
                                                <div id="campaign-start-date-helper-invalid"
                                                     class="form-text ttp-color-invalid" style="display: none">
                                                    Note: You’ve selected <span class="daysDiff"></span> days, which is
                                                    less than the required 4 weeks needed to guarantee delivery. We
                                                    cannot ensure your order will be ready and shipping in time for
                                                    your desired delivery date. To view your shipping options, click on
                                                    <button type="button" onclick="showInformationModal()"
                                                            style="background-color: transparent; color: #0a53be; font-weight: bold; border: none">
                                                        more info
                                                    </button>
                                                </div>
                                                <div id="campaign-start-date-helper-valid"
                                                     class="form-text ttp-color-valid" style="display: none">
                                                    Thank you! You’ve selected <span class="daysDiff"></span> days,
                                                    which provides sufficient time for preparation, shipping, and
                                                    onboarding.
                                                </div>
                                            </div>

                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-4 accordion" id="accordion-shipping-section"
                         style="background-color: rgb(251, 251, 251);">
                        <div class="card-body">
                            <div class="accordion-item">
                                <h2 class="accordion-header text-center">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                            data-bs-target="#collapseDevice_accordion-shipping-section"
                                            aria-expanded="true"
                                            aria-controls="collapseDevice_accordion-shipping-section"
                                            style="color: black; font-weight: bold; background-color: rgb(251, 251, 251);">
                                        <svg width="24" height="20" viewBox="0 0 24 20" fill="none"
                                             xmlns="http://www.w3.org/2000/svg">
                                            <path d="M16.8661 1.925H2V14.5387H16.8661V1.925Z" stroke="#9E007E"
                                                  stroke-width="2.25244" stroke-linecap="round"
                                                  stroke-linejoin="round"/>
                                            <path d="M16.8657 6.88037H19.3434C20.12 6.88037 20.8648 7.18888 21.4139 7.73801C21.9631 8.28715 22.2716 9.03194 22.2716 9.80854V14.5387H16.8657V6.88037Z"
                                                  stroke="#9E007E" stroke-width="2.25244" stroke-linecap="round"
                                                  stroke-linejoin="round"/>
                                            <path d="M7.13986 18.075C7.73947 18.075 8.22555 17.5889 8.22555 16.9893C8.22555 16.3897 7.73947 15.9036 7.13986 15.9036C6.54026 15.9036 6.0542 16.3897 6.0542 16.9893C6.0542 17.5889 6.54026 18.075 7.13986 18.075Z"
                                                  stroke="#9E007E" stroke-width="2.25244" stroke-linecap="round"
                                                  stroke-linejoin="round"/>
                                            <path d="M16.4558 18.075C17.0554 18.075 17.5415 17.5889 17.5415 16.9893C17.5415 16.3897 17.0554 15.9036 16.4558 15.9036C15.8562 15.9036 15.3701 16.3897 15.3701 16.9893C15.3701 17.5889 15.8562 18.075 16.4558 18.075Z"
                                                  stroke="#9E007E" stroke-width="2.25244" stroke-linecap="round"
                                                  stroke-linejoin="round"/>
                                            <path d="M2.4502 6.97497H7.85605" stroke="#9E007E" stroke-width="2.25244"
                                                  stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>&nbsp;&nbsp;&nbsp;<span style="color: #422055; font-weight: 300;">2. Shipping Information</span>
                                    </button>
                                </h2>
                                <div id="collapseDevice_accordion-shipping-section"
                                     class="accordion-collapse collapse show"
                                     data-bs-parent="#accordion-shipping-section"
                                     style="background-color: rgb(251, 251, 251);">
                                    <div class="accordion-body">

                                        <div class="mb-3">
                                            <label for="shippingFullNameInput" class="form-label">Full name</label>
                                            <input type="text" class="form-control" name="shippingFullName"
                                                   id="shippingFullNameInput"
                                                   pattern="^\S+\s\S+$"
                                                   maxlength="50"
                                                   required
                                                   oninput="validateShippingFullName(this)">
                                            <div id="shippingFullNameError" class="text-danger mt-1" style="font-size: 0.875rem;"></div>
                                        </div>

                                        <div class="mb-3">
                                            <label for="shippingAddressLine1Input" class="form-label">Address line
                                                1</label>
                                            <input type="text" class="form-control" name="shippingAddressLine1"
                                                   id="shippingAddressLine1Input" maxlength="400" required>
                                            <small id="shippingAddressLine1InputAlert" class="mx-2"
                                                   style="display: block; font-size: 12px;">PO Boxes and Lock Boxes are not
                                                allowed</small>
                                        </div>

                                        <div class="mb-3">
                                            <label for="shippingAddressLine2Input" class="form-label">Address line 2
                                                (Optional)</label>
                                            <input type="text" class="form-control" name="shippingAddressLine2"
                                                   id="shippingAddressLine2Input" maxlength="400">
                                        </div>
                                        <div class="row mb-3">
                                            <div class="col-sm-6">
                                                <label for="shippingCountryInput" class="form-label">Country</label>
                                                <select class="form-select" aria-label="Default select example"
                                                        name="shippingCountry" id="shippingCountryInput" required
                                                        onchange="updatePostalCodePattern('shipping')">
                                                    <option hidden th:selected="${userCountry == null}">
                                                        Select your country
                                                    </option>
                                                    <option value="Canada"
                                                            th:selected="${userCountry == 'Canada'}">
                                                        Canada
                                                    </option>
                                                    <option value="United States"
                                                            th:selected="${userCountry == 'United States'}">
                                                        United States
                                                    </option>
                                                </select>
                                            </div>
                                            <div class="col-sm-6">
                                                <label for="shippingStateInput"
                                                       class="form-label">Province/State</label>
                                                <select class="form-select" name="shippingState" id="shippingStateInput"
                                                        required>
                                                    <option selected hidden></option>
                                                </select>
                                            </div>

                                        </div>


                                        <div class="row mb-3">

                                            <div class="col-sm-6">
                                                <label for="shippingCityInput" class="form-label">City</label>
                                                <input type="text" class="form-control" name="shippingCity"
                                                       id="shippingCityInput" maxlength="250" required>
                                            </div>

                                            <div class="col-sm-6">
                                                <label for="shippingZipCodeInput" class="form-label">Postal/Zip
                                                    code</label>
                                                <input type="text" class="form-control" name="shippingZipCode"
                                                       id="shippingZipCodeInput" required>
                                            </div>

                                        </div>

                                        <div class="row mb-3">
                                            <div class="col-sm-6">
                                                <label for="shippingPhoneInput" class="form-label">Phone</label>
                                                <input type="tel" class="form-control" name="shippingPhone"
                                                       id="shippingPhoneInput"
                                                       oninput="formatPhoneNumber(this)" maxlength="14" required>
                                            </div>

                                            <div class="col-sm-6">
                                                <label for="shippingEmailInput" class="form-label">Email address</label>
                                                <input type="email" class="form-control" name="shippingEmail"
                                                       id="shippingEmailInput"
                                                       maxlength="250"
                                                       required>
                                            </div>

                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-4 accordion" id="accordion-billing-section"
                         style="background-color: rgb(251, 251, 251);">
                        <div class="card-body">
                            <div class="accordion-item">
                                <h2 class="accordion-header text-center">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                            data-bs-target="#collapseDevice_accordion-billing-section"
                                            aria-expanded="true"
                                            aria-controls="collapseDevice_accordion-billing-section"
                                            style="color: black; font-weight: bold; background-color: rgb(251, 251, 251);">
                                        <svg width="20" height="24" viewBox="0 0 20 24" fill="none"
                                             xmlns="http://www.w3.org/2000/svg">
                                            <path d="M9.17157 3H5C3.11438 3 2.17157 3 1.58579 3.58579C1 4.17157 1 5.11438 1 7V17C1 18.8856 1 19.8284 1.58579 20.4142C2.17157 21 3.11438 21 5 21H11C12.8856 21 13.8284 21 14.4142 20.4142C15 19.8284 15 18.8856 15 17V8.82843C15 8.41968 15 8.2153 14.9239 8.03153C14.8478 7.84776 14.7032 7.70324 14.4142 7.41421L10.5858 3.58579C10.2968 3.29676 10.1522 3.15224 9.96847 3.07612C9.7847 3 9.58032 3 9.17157 3Z"
                                                  stroke="#9E007E" stroke-width="2"/>
                                            <path d="M5 13L11 13" stroke="#9E007E" stroke-width="2"
                                                  stroke-linecap="round"/>
                                            <path d="M5 17L9 17" stroke="#9E007E" stroke-width="2"
                                                  stroke-linecap="round"/>
                                            <path d="M9 3V7C9 7.94281 9 8.41421 9.29289 8.70711C9.58579 9 10.0572 9 11 9H15"
                                                  stroke="#9E007E" stroke-width="2"/>
                                        </svg>&nbsp;&nbsp;&nbsp;<span style="color: #422055; font-weight: 300;">3. Billing Information</span>
                                    </button>
                                </h2>
                                <div id="collapseDevice_accordion-billing-section"
                                     class="accordion-collapse collapse show"
                                     data-bs-parent="#accordion-billing-section"
                                     style="background-color: rgb(251, 251, 251);">
                                    <div class="accordion-body">

                                        <div class="mb-3 form-check">
                                            <input type="checkbox" class="form-check-input"
                                                   id="checkboxToUseShippingAddressInput"
                                                   name="checkboxToUseShippingAddress" checked>
                                            <label class="form-check-label" for="checkboxToUseShippingAddressInput">
                                                Use shipping information
                                            </label>
                                        </div>

                                        <div class="billing-address-section" style="display: none;">

                                            <div class="mb-3">
                                                <label for="billingFullNameInput" class="form-label">Full name</label>
                                                <input type="text" class="form-control" name="billingFullName"
                                                       id="billingFullNameInput" maxlength="250">
                                            </div>

                                            <div class="mb-3">
                                                <label for="billingAddressLine1Input" class="form-label">Address line
                                                    1</label>
                                                <input type="text" class="form-control" name="billingAddressLine1"
                                                       id="billingAddressLine1Input" maxlength="400">
                                                <small id="billingAddressLine1InputAlert" class="mx-2"
                                                       style="display: block; font-size: 12px">PO Boxes and Lock Boxes are not
                                                    allowed</small>
                                            </div>

                                            <div class="mb-3">
                                                <label for="billingAddressLine2Input" class="form-label">Address line 2
                                                    (Optional)</label>
                                                <input type="text" class="form-control" name="billingAddressLine2"
                                                       id="billingAddressLine2Input" maxlength="400">
                                            </div>

                                            <div class="row mb-3">

                                                <div class="col-sm-6">
                                                    <label for="billingCountryInput" class="form-label">Country</label>
                                                    <select class="form-select" aria-label="Default select example"
                                                            name="billingCountry" id="billingCountryInput" required
                                                            onchange="updatePostalCodePattern('billing')">
                                                        <option selected hidden></option>
                                                        <option value="Canada">Canada</option>
                                                        <option value="United States">United States</option>
                                                    </select>
                                                </div>

                                                <div class="col-sm-6">
                                                    <label for="billingStateInput"
                                                           class="form-label">Province/State</label>
                                                    <select class="form-select" name="billingState"
                                                            id="billingStateInput" required>
                                                        <option selected hidden></option>
                                                    </select>
                                                </div>

                                            </div>

                                            <div class="row mb-3">

                                                <div class="col-sm-6">
                                                    <label for="billingCityInput" class="form-label">City</label>
                                                    <input type="text" class="form-control" name="billingCity"
                                                           id="billingCityInput" maxlength="250">
                                                </div>

                                                <div class="col-sm-6">
                                                    <label for="billingZipCodeInput" class="form-label">Postal/Zip
                                                        code</label>
                                                    <input type="text" class="form-control" name="billingZipCode"
                                                           id="billingZipCodeInput" required>
                                                </div>

                                            </div>

                                            <div class="row mb-3">
                                                <div class="col-sm-6">
                                                    <label for="billingPhoneInput" class="form-label">Phone</label>
                                                    <input type="tel" class="form-control" name="billingPhone"
                                                           id="billingPhoneInput"
                                                           oninput="formatPhoneNumber(this)" maxlength="14" required>
                                                </div>

                                                <div class="col-sm-6">
                                                    <label for="billingEmailInput" class="form-label">Email
                                                        address</label>
                                                    <input type="email" class="form-control" name="billingEmail"
                                                           id="billingEmailInput"
                                                           maxlength="250"
                                                           required>
                                                </div>

                                            </div>

                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-2 mb-5 mx-1 d-flex justify-content-between">
                        <div class="">
                            <button type="button" class="btn ttp-btn-secondary btn-sm w-100" onclick="onPrevious()"
                                    style="border-radius: 10px; padding: 5px 30px">Back
                            </button>
                        </div>

                        <div class="">
                            <button type="submit" class="btn ttp-btn-primary btn-sm w-100 mb-2"
                                    style="border-radius: 10px; padding: 5px 30px">Continue to Payment
                            </button>
                        </div>
                    </div>

                </form>

            </div>

        </div>

    </div>

    <!-- Modal -->
    <div class="modal fade" id="messageModal" tabindex="-1" aria-labelledby="messageModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-fullscreen-sm-down">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="text-center">
                        <div class="spinner-border" role="status"></div>
                        <div class="mt-2">
                            <div class="ttp-color-fuchsia fw-bold h5">Calculating shipping and fees...</div>
                            <div class="ttp-text-gray fw-bold small">Please wait a moment</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Information Modal -->
    <div class="modal fade" id="informationModal" tabindex="-1" aria-labelledby="informationModalLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-fullscreen-sm-down">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="">
                        <div class="mt-2">
                            <div class="container mt-3 mb-3">
                                <h5 class="mb-4">Shipping Methods</h5>

                                <!-- Card 1 -->
                                <div class="shipping-card">
                                    <div class="row">
                                        <!-- Left Section -->
                                        <div class="col-12 col-md-6 d-flex align-items-center">
                                            <svg th:replace="~{fragments/bundles/svg_fragments :: ups-logo}"></svg>
                                            <span class="ms-2 fw-bold">Standard</span>&nbsp;&nbsp;
                                            <span class="badge text-bg-tiptap">Default</span>
                                        </div>

                                        <!-- Right Section -->
                                        <div class="col-12 col-md-6 text-md-end text-start mt-2 mt-md-0">
                                            <span class="text-muted">1 to 5 Business Days</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- Card 2 -->
                                <div class="shipping-card">
                                    <div class="row">
                                        <!-- Left Section -->
                                        <div class="col-12 col-md-5 d-flex align-items-center">
                                            <svg th:replace="~{fragments/bundles/svg_fragments :: ups-logo}"></svg>
                                            <span class="ms-2 fw-bold">Express</span>
                                        </div>

                                        <!-- Right Section -->
                                        <div class="col-12 col-md-7 text-md-end text-start mt-2 mt-md-0">
                                            <span class="text-muted">Next Day to 3 Business Days</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- Card 3 -->
                                <div class="shipping-card">
                                    <div class="row">
                                        <!-- Left Section -->
                                        <div class="col-12 col-md-5 d-flex align-items-center">
                                            <svg th:replace="~{fragments/bundles/svg_fragments :: ups-logo}"></svg>
                                            <span class="ms-2 fw-bold">Expedited</span>
                                        </div>

                                        <!-- Right Section -->
                                        <div class="col-12 col-md-7 text-md-end text-start mt-2 mt-md-0">
                                            <span class="text-muted">3 to 5 Business Days</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="mt-4">
                                    <span th:if="${salesRepContactEmail != null}">
                                        To change your shipping method please
                                        <a target="_blank"
                                           th:href="'mailto:' + ${salesRepContactEmail}"
                                           style="text-decoration: none; color: #9d2285">
                                           contact your sales rep
                                        </a>
                                    </span>
                                                                    <span th:if="${salesRepContactEmail == null}">
                                        To change your shipping method please
                                        <a target="_blank"
                                           href="https://share.hsforms.com/1lwl-CRvqTveeobrXKW1gfg3144o"
                                           style="text-decoration: none; color: #9d2285">
                                           contact sales
                                        </a>
                                    </span>
                                </div>

                                <div class="mt-4">

                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="modal-footer">
                    <button type="button" class="btn ttp-btn-primary" data-bs-dismiss="modal">OK</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Error Modal -->
    <div class="modal fade" id="errorModal" tabindex="-1" aria-labelledby="errorModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-fullscreen-sm-down">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="text-center">
                        <div class="spinner-grow" role="status"></div>
                        <div class="mt-2">
                            <div class="ttp-color-fuchsia fw-bold h5">Oops!</div>
                            <div class="ttp-text-gray fw-bold small" id="error-modal-text"
                                 th:text="${errorMessage == null ? '' : errorMessage}"></div>
                            <div id="error-code" class="ttp-text-gray fw-bold small mt-3" style="font-size: 9px"
                                 th:text="${errorCode == null ? 'ERROR 000' : 'ERROR ' + errorCode}"></div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn ttp-btn-primary" data-bs-dismiss="modal">OK</button>
                </div>
            </div>
        </div>
    </div>

    <div style="margin-top: 200px">
        <div th:replace="~{fragments/bundles/footer :: footer}"></div>
    </div>

</div>

<div class="container" id="calculation-container" style="display: none">
    <div class="text-center mt-5">
        <div class="spinner-border" role="status"></div>
        <div class="mt-2">
            <div class="ttp-color-fuchsia fw-bold h5">Calculating shipping and fees...</div>
            <div class="ttp-text-gray fw-bold small">Please wait a moment</div>
        </div>
    </div>
</div>

<div class="container" id="error-container" style="display: none">
    <div class="text-center mt-5">
        <div class="spinner-grow" role="status"></div>
        <div class="mt-2">
            <div class="ttp-color-fuchsia fw-bold h5">Oops!</div>
            <div class="ttp-text-gray fw-bold small" id="error-modal-text-sm"
                 th:text="${errorMessage == null ? '' : errorMessage}"></div>
            <div id="error-code-sm" class="ttp-text-gray fw-bold small mt-3" style="font-size: 9px"
                 th:text="${errorCode == null ? 'ERROR 000' : 'ERROR ' + errorCode}"></div>
        </div>

        <div class="mt-5">
            <button type="button" class="btn ttp-btn-primary" onclick="switchContainers(true, false, false)">OK</button>
        </div>
    </div>
</div>

<script th:src="@{/js/bundles/js/bootstrap.bundle.min.js}"></script>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        const today = new Date().toISOString().split('T')[0]; // Get today's date in YYYY-MM-DD format
        document.getElementById('campaignStartDateInput').setAttribute('min', today);
    });
    const STORE_INITIAL = '';
</script>
<script>
    function validateShippingFullName(input) {
        const fullName = input.value.trim();
        if (!fullName.includes(" ")) {
            input.setCustomValidity("Please enter both first and last name.");
        } else {
            const [firstName, ...rest] = fullName.split(" ");
            const lastName = rest.join(" ");
            if (lastName.length > 32) {
                input.setCustomValidity("Last name must not exceed 32 characters.");
            } else {
                input.setCustomValidity("");
            }
        }
    }
</script>
<script th:src="@{/js/bundles/js/custom/page4.js}"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const shippingCountryInput = document.getElementById('shippingCountryInput');

        // Force dispatch 'change' event on load to trigger province + zip logic
        if (shippingCountryInput && shippingCountryInput.value) {
            const event = new Event('change', { bubbles: true });
            shippingCountryInput.dispatchEvent(event);
            console.log('✅ Dispatched change event manually for:', shippingCountryInput.value);
        }
    });
</script>

</body>
</html>
